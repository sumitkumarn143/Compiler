<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="codemirror/codemirror-5.65.16/lib/codemirror.css">
    <script src="codemirror/codemirror-5.65.16/lib/codemirror.js"></script>
    <script src="codemirror/codemirror-5.65.16/mode/clike/clike.js"></script>
    <link rel="stylesheet" href="codemirror/codemirror-5.65.16/theme/dracula.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

    <script src="codemirror/codemirror-5.65.16/addon/edit/closebrackets.js"></script>
    <script src="codemirror/codemirror-5.65.16/mode/python/python.js"></script>

    <style>

      @media only screen and (min-width:476px) and (max-width: 776px){
        .output-panel{
          margin: 20px 0px !important;
          flex-direction: row !important;
          height: 450px !important;
        }

        .output-panel div{
          height: 90%!important;
          width: 50%;
          padding: 0px 10px;
        }

        .input-panel label{
          margin-top: 20px !important;
        }
        .out-panel label{
          margin-top: 20px !important;
        }
      }


      @media only screen and (min-width:0px) and (max-width: 576px){
        .footer-heading{
          float:none !important;
          padding: 20px 0px 0px 0px;
        }
        .footer-desc{
          text-align: justify !important;
          float: none !important;
        }
      }

      @media only screen and (min-width:0px) and (max-width: 476px){
        .output-panel{
          margin: 20px 0px !important;
          flex-direction: column !important;
          height: 450px !important;
        }

        .output-panel div{
          height: 90%!important;
          width: 100%;
          padding: 0px 10px 20px 10px;
        }

        .input-panel label{
          margin-top: 20px !important;
        }
        .out-panel label{
          margin-top: 20px !important;
        }
        .copyright-link{
          font-size: 10px !important;
        }
      }

      @media only screen and (min-width:0px) and (max-width: 776px){
        .editor-panel{
          margin: 10px 0px !important;
        }
        #navbarNavDropdown{
          background: white;
          padding: 0px 20px;
          border-radius: 10px;
        }

        #navbarNavDropdown a{
          color: black !important;
        }

      }
    </style>
  </head>
  <body>

    <!-- header section -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary" style="background: linear-gradient(45deg, #e07c03, #cdb202);height: 60px;">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="https://blogger.googleusercontent.com/img/a/AVvXsEg0U_gIlcGYBDF0edpjFNIGlJuE8Mn_0qzM793lBRlOhhjP1xuUj-htAVnNav1m6Q-EVwf0KgDsjmpOiYeF69x91uSfeOKi-xKTlDtCZSVoDm1monJ6R0ILgSU2E-HQA5PGzeaNM0_rkdbwYg2Ci8Hm8C4M6TMO7kkQK9exfBwCJDGFHe7TSiPsK5frMQ=s974" style="max-height: 45px;"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown" style="z-index: 10;">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">Privacy Policy</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">
                Services
              </a>
              <ul class="dropdown-menu" style="box-shadow: 0 2px 5px 0 rgba(0,0,0,0.15), 0 2px 10px 0 rgba(0,0,0,0.17);position: absolute;top:60px;transform: translateY(-10px);">
                <li><a class="dropdown-item" href="#">Software Solution</a></li>
                <li><a class="dropdown-item" href="#">Development</a></li>
                <li><a class="dropdown-item" href="#">Product</a></li>
                <li><a class="dropdown-item" href="#">Learning Mentor</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">Contact Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">Disclaimers</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" style="font-size: 14px;color: white;
              font-weight: 600;text-transform: capitalize;line-height: 56px;">Our Teams</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- header section finised -->
    
        <div class="row m-3 editor-panel">
          <div class="col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8" style="padding: 0px;">
                <div class="d-flex justify-content-between bg-dark p-2">
                    <div class="col-auto">
                        <label class="visually-hidden" for="autoSizingSelect">Preference</label>
                        <select class="form-select" id="autoSizingSelect">
                          <option selected>Choose...</option>
                          <option value="c++">C++</option>
                          <option value="java">Java</option>
                          <option value="python">Python</option>
                        </select>
                      </div>
                      <div>
                        <button type="button" class="btn btn-secondary">Coding Sprint</button>
                        <button type="button" id="run" class="btn btn-success"><i class="bi bi-play-fill"></i></button>
                    </div>
                </div>
                <textarea type="text" class="form-control" id="editor" placeholder="Leave a comment here"></textarea>
          </div>
          <div class="col d-flex flex-column rounded bg-dark px-4 output-panel" style="margin: 0px 10px;">
            <div class="h-50 input-panel">
                <label for="input" class="text-light mt-4 mb-2">Input</label>
                <textarea type="text" id="input" class="form-control h-75"></textarea>
            </div>
            <div class="h-50 out-panel">
                <label for="input" class="text-light mb-2">Output</label>
                <textarea type="text" id="output" class="form-control h-75"></textarea>
            </div>
      </div>
        </div>




      <!-- footer section -->
      <div class="container-fluid text-center" style="background: #15202b; padding: 20px 10% 30px 10%;">
        <div class="row">
          <div class="col-12 col-sm-6 col-md-6 col-lg-3 align-self-center">
            <a href="#"><img src="https://blogger.googleusercontent.com/img/a/AVvXsEg0U_gIlcGYBDF0edpjFNIGlJuE8Mn_0qzM793lBRlOhhjP1xuUj-htAVnNav1m6Q-EVwf0KgDsjmpOiYeF69x91uSfeOKi-xKTlDtCZSVoDm1monJ6R0ILgSU2E-HQA5PGzeaNM0_rkdbwYg2Ci8Hm8C4M6TMO7kkQK9exfBwCJDGFHe7TSiPsK5frMQ=s974" style="max-height: 45px;"></a>
          </div>
          <div class="col-12 col-sm-6 col-md-6 col-lg-5">
            <h3 style="color: white;float:left;font-size: 15px; line-height: 20px;" class="footer-heading">Made with Love by</h3>
            <span style="float:left;text-align: left; font-size: 13px;color:#868686;" class="footer-desc">Devil's coding provide you latest news about technology as well as a coding enviroment and chance to enhance the coding knowledeg and skill</span>
          </div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-4 align-self-center" style="margin: 30px 0px;">
              <a href=# style="width: 25px;height: 25px; font-size: 13px;background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 4px; text-align: center; line-height: 25px;padding: 5px 7px; margin: 0px 3px;"><i class="bi bi-facebook" style="color: #3b5999;"></i></a>
              <a href=# style="width: 25px;height: 25px; font-size: 13px;background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 4px; text-align: center; line-height: 25px;padding: 5px 7px; margin: 0px 3px;"><i class="bi bi-twitter" style="color: #00acee;"></i></a>
              <a href=# style="width: 25px;height: 25px; font-size: 13px;background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 4px; text-align: center; line-height: 25px;padding: 5px 7px; margin: 0px 3px;"><i class="bi bi-youtube" style="color: #f50000;"></i></a>
              <a href=# style="width: 25px;height: 25px; font-size: 13px;background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 4px; text-align: center; line-height: 25px;padding: 5px 7px; margin: 0px 3px;"><i class="bi bi-instagram" style="color:#dd277b;"></i></a>
              <a href=# style="width: 25px;height: 25px; font-size: 13px;background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 4px; text-align: center; line-height: 25px;padding: 5px 7px; margin: 0px 3px;"><i class="bi bi-whatsapp" style="color:green;"></i></a>
          </div>
        </div>
      </div>

      <div class="bottom-footer" style="background: #0e151d;">
        <div class="footer-link" style="display: flex;justify-content: center; display: flex;flex-wrap: wrap;">
          <a href="#" style="padding: 5px 15px;margin: 10px; background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 10px; color: white; text-decoration: none; font-size: 13px;">Home</a>
          <a href="#" style="padding: 5px 15px;margin: 10px; background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 10px; color: white; text-decoration: none; font-size: 13px;">About</a>
          <a href="#" style="padding: 5px 15px;margin: 10px; background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 10px; color: white; text-decoration: none; font-size: 13px;">Contact us</a>
          <a href="#" style="padding: 5px 15px;margin: 10px; background: rgb(153 153 153 / 0.08); border: 1px solid rgb(117 117 117 / 0.30); border-radius: 10px; color: white; text-decoration: none; font-size: 13px;">privacy policy</a>
        </div>
        <div class="copyright-link" style="display: flex;justify-content: center; color: white; padding: 20px 0px 30px 0px;">
          <span>Design by&nbsp;</span><a style="color: blue;font-weight: bolder; cursor: pointer;"> Devil's Coding </a><span>&nbsp;- | Distributed by Devil's coding</span>
        </div>
      </div>
      <!-- footer section finised -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
  <script>
    var editor=CodeMirror.fromTextArea(document.getElementById("editor"),{
        mode: "text/x-c++src",
        theme: "dracula",
        lineNumbers:true,
        autoCloseBrackets: true
    });
    // var width=window.innerWidth;
    // editor.setSize(0.7*width,"500");
    editor.setSize("","500");

    var option=document.getElementById("autoSizingSelect");
    var input=document.getElementById("input");
    var output=document.getElementById("output");
    var run=document.getElementById("run");
    option.addEventListener("change", function(){
        if(option.value=="java"){
            editor.setOption("mode","text/x-java");
        }
        else if(option.value=="python"){
            editor.setOption("mode","text/x-python");
        }
        else{
            editor.setOption("mode","text/x-c++src");
        }
   })

   var code;
   run.addEventListener("click",async function(){
        code={
            code:editor.getValue(),
            input:input.value,
            lang:option.value
        }

        var oData = await fetch("http://localhost:8000/compile", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body:JSON.stringify(code)
        })
        var d = await oData.json()
        output.value=d.value
   })
  </script>
</html>